{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        tags,\n        largeImageURL,\n        webformatURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery\"><a href=\"${largeImageURL}\" class=\"gallery-link\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"\" class=\"picture\"/>\n      </a>\n      <ul class = \"img-info\">\n      <li class = \"item-info\">Likes<span class = \"info-value\">${likes}</span></li>\n      <li class = \"item-info\">Views<span class = \"info-value\">${views}</span></li>\n      <li class = \"item-info\">Comments<span class = \"info-value\">${comments}</span></li>\n      <li class = \"item-info\">Downloads<span class = \"info-value\">${downloads}</span></li>\n      </ul>\n      </li>\n`\n    )\n    .join('');\n}\n","import { createMarkup } from './render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport axios from 'axios';\n\nlet page = 1;\n\nexport async function getImges(userSearch = '', page) {\n  const API_KEY = '43223956-11c63a864af473bf01df350b7';\n  const BASE_URL = 'https://pixabay.com/api/';\n  // axios.defaults.baseURL = ``;\n  try {\n    const { data } = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: userSearch,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: '15',\n        page,\n      },\n    });\n\n    return data;\n  } catch (error) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n}\n","import { getImges } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nexport const gallery = document.querySelector('.gallery-list');\nconst beforeLoadingEl = document.querySelector('.loader');\nconst loadingBtn = document.querySelector('.load-btn');\nlet page = 1;\nconst lightbox = new SimpleLightbox('.gallery-link');\nlet userSearch = '';\n\nform.addEventListener('submit', handleSubmit);\nloadingBtn.addEventListener('click', handleClick);\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  beforeLoadingEl.classList.remove('isactive');\n  loadingBtn.classList.remove('isactive');\n  userSearch = event.currentTarget.search.value.trim();\n\n  try {\n    const data = await getImges(userSearch, page);\n\n    if (!data.hits.length) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      loadingBtn.classList.remove('isactive');\n    } else {\n      gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      lightbox.refresh();\n      form.reset();\n      beforeLoadingEl.classList.remove('isactive');\n      loadingBtn.classList.add('isactive');\n    }\n  } catch {\n    console.log(error);\n  }\n}\n\nasync function handleClick(event) {\n  event.preventDefault();\n  loadingBtn.classList.remove('isactive');\n  page += 1;\n\n  try {\n    const data = await getImges(userSearch, page);\n    gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n    if (page < data.totalHits / page) {\n      loadingBtn.classList.add('isactive');\n    } else {\n      iziToast.info({\n        message: \"We're sorry, but you've reached the end of search results.\",\n      });\n    }\n\n    const card = document.querySelector('.gallery');\n    const cardHeight = card.getBoundingClientRect().height;\n\n    window.scrollBy({\n      left: 0,\n      top: cardHeight * 2,\n      behavior: 'smooth',\n    });\n  } catch {\n    console.log(error);\n  }\n}\n"],"names":["createMarkup","arr","tags","largeImageURL","webformatURL","likes","views","comments","downloads","getImges","userSearch","page","API_KEY","BASE_URL","data","axios","iziToast","form","gallery","beforeLoadingEl","loadingBtn","lightbox","SimpleLightbox","handleSubmit","handleClick","event","cardHeight"],"mappings":"owBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,cAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,qCACyBL,CAAa;AAAA,kBAChCC,CAAY,UAAUF,CAAI;AAAA;AAAA;AAAA,gEAGoBG,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA,CAIxE,EACA,KAAK,EAAE,CACZ,CCjBO,eAAeC,EAASC,EAAa,GAAIC,EAAM,CACpD,MAAMC,EAAU,qCACVC,EAAW,2BAEjB,GAAI,CACF,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,IAAIF,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,KACV,KAAAC,CACD,CACP,CAAK,EAED,OAAOG,CACR,MAAe,CACdE,EAAS,MAAM,CACb,QACE,0EACR,CAAK,CACF,CACH,CCzBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EACrCC,EAAU,SAAS,cAAc,eAAe,EACvDC,EAAkB,SAAS,cAAc,SAAS,EAClDC,EAAa,SAAS,cAAc,WAAW,EACrD,IAAIT,EAAO,EACX,MAAMU,EAAW,IAAIC,EAAe,eAAe,EACnD,IAAIZ,EAAa,GAEjBO,EAAK,iBAAiB,SAAUM,CAAY,EAC5CH,EAAW,iBAAiB,QAASI,CAAW,EAEhD,eAAeD,EAAaE,EAAO,CACjCA,EAAM,eAAc,EACpBP,EAAQ,UAAY,GACpBC,EAAgB,UAAU,OAAO,UAAU,EAC3CC,EAAW,UAAU,OAAO,UAAU,EACtCV,EAAae,EAAM,cAAc,OAAO,MAAM,KAAI,EAElD,GAAI,CACF,MAAMX,EAAO,MAAML,EAASC,EAAYC,CAAI,EAEvCG,EAAK,KAAK,QAObI,EAAQ,mBAAmB,YAAalB,EAAac,EAAK,IAAI,CAAC,EAC/DO,EAAS,QAAO,EAChBJ,EAAK,MAAK,EACVE,EAAgB,UAAU,OAAO,UAAU,EAC3CC,EAAW,UAAU,IAAI,UAAU,IAVnCJ,EAAS,MAAM,CACb,QACE,0EACV,CAAO,EACDI,EAAW,UAAU,OAAO,UAAU,EAQ5C,MAAU,CACN,QAAQ,IAAI,KAAK,CAClB,CACH,CAEA,eAAeI,EAAYC,EAAO,CAChCA,EAAM,eAAc,EACpBL,EAAW,UAAU,OAAO,UAAU,EACtCT,GAAQ,EAER,GAAI,CACF,MAAMG,EAAO,MAAML,EAASC,EAAYC,CAAI,EAC5CO,EAAQ,mBAAmB,YAAalB,EAAac,EAAK,IAAI,CAAC,EAE3DH,EAAOG,EAAK,UAAYH,EAC1BS,EAAW,UAAU,IAAI,UAAU,EAEnCJ,EAAS,KAAK,CACZ,QAAS,4DACjB,CAAO,EAIH,MAAMU,EADO,SAAS,cAAc,UAAU,EACtB,sBAAqB,EAAG,OAEhD,OAAO,SAAS,CACd,KAAM,EACN,IAAKA,EAAa,EAClB,SAAU,QAChB,CAAK,CACL,MAAU,CACN,QAAQ,IAAI,KAAK,CAClB,CACH"}